---
config:
  flowchart:
    defaultRenderer: dagre
    rankSpacing: 80
    nodeSpacing: 65
    padding: 24
---
flowchart LR

classDef actor fill:#ECEFF1,stroke:#455A64,stroke-width:1px;
classDef system fill:#E3F2FD,stroke:#1565C0,stroke-width:1.2px;
classDef spacer fill:transparent,stroke:transparent;

%% B·ªë c·ª•c: actor tr√°i | h·ªá th·ªëng r·ªông 3 c·ªôt | actor ph·∫£i (c√πng h√†ng)
subgraph Canvas[" "]
  direction LR

  subgraph LeftActors[" "]
    direction TB
    HoiVien["üë§ H·ªôi Vi√™n"]:::actor
    PT["üí™ Personal Trainer"]:::actor
  end

  subgraph SystemRegion["H·ªá th·ªëng"]
    direction TB

    %% H√†ng 1-6
    subgraph Row1[" "]
      direction LR
      UC1["ƒêƒÉng k√Ω/ƒêƒÉng nh·∫≠p"]
      UC2["Xem danh s√°ch g√≥i t·∫≠p"]
      UC3["ƒêƒÉng k√Ω g√≥i t·∫≠p"]
      OwnerAnchor(( )):::spacer
      SysAnchor(( )):::spacer
    end
    subgraph Row2[" "]
      direction LR
      UC4["Thanh to√°n g√≥i t·∫≠p"]
      UC5["Xem l·ªãch t·∫≠p"]
      UC6["ƒêƒÉng k√Ω bu·ªïi t·∫≠p"]
    end
    subgraph Row3[" "]
      direction LR
      UC7["Check-in/Check-out"]
      UC8["Xem b√†i t·∫≠p"]
      UC9["Ghi nh·∫≠n l·ªãch s·ª≠ t·∫≠p"]
    end
    subgraph Row4[" "]
      direction LR
      UC10["Xem th·ªëng k√™ c√° nh√¢n"]
      UC11["Qu·∫£n l√Ω ch·ªâ s·ªë c∆° th·ªÉ"]
      UC12["ƒê·∫∑t l·ªãch h·∫πn v·ªõi PT"]
    end
    subgraph Row5[" "]
      direction LR
      UC13["Chat v·ªõi PT"]
      UC14["Xem k·∫ø ho·∫°ch dinh d∆∞·ª°ng"]
      UC15["Y√™u c·∫ßu k·∫ø ho·∫°ch dinh d∆∞·ª°ng AI"]
    end
    subgraph Row6[" "]
      direction LR
      UC16["Xem th√¥ng b√°o"]
      UC17["ƒê√°nh gi√° bu·ªïi t·∫≠p"]
      UC18["Xem l·ªãch s·ª≠ thanh to√°n"]
    end

    %% H√†ng 7-12
    subgraph Row7[" "]
      direction LR
      UC19["T·∫°o bu·ªïi t·∫≠p"]
      UC20["Qu·∫£n l√Ω l·ªãch t·∫≠p cho h·ªôi vi√™n"]
      UC21["Th√™m/s·ª≠a/x√≥a b√†i t·∫≠p"]
    end
    subgraph Row8[" "]
      direction LR
      UC22["Xem danh s√°ch h·ªôi vi√™n"]
      UC23["Chat v·ªõi h·ªôi vi√™n"]
      UC24["Check-in PT"]
    end
    subgraph Row9[" "]
      direction LR
      UC25["Xem l·ªãch l√†m vi·ªác"]
      UC26["Qu·∫£n l√Ω m·ª•c ti√™u h·ªôi vi√™n"]
      UC27["T·∫°o template bu·ªïi t·∫≠p"]
    end
    subgraph Row10[" "]
      direction LR
      UC28["Xem th·ªëng k√™ PT"]
      UC29["T·∫°o b√°o c√°o"]
      UC30["Qu·∫£n l√Ω ghi ch√∫ h·ªôi vi√™n"]
    end
    subgraph Row11[" "]
      direction LR
      UC31["Qu·∫£n l√Ω g√≥i t·∫≠p CRUD"]
      UC32["Qu·∫£n l√Ω h·ªôi vi√™n"]
      UC33["Qu·∫£n l√Ω PT"]
    end
    subgraph Row12[" "]
      direction LR
      UC34["Qu·∫£n l√Ω chi nh√°nh"]
      UC35["Xem b√°o c√°o t·ªïng h·ª£p"]
      UC36["Qu·∫£n l√Ω thanh to√°n"]
    end

    %% H√†ng 13-16
    subgraph Row13[" "]
      direction LR
      UC37["Qu·∫£n l√Ω h·∫°ng h·ªôi vi√™n"]
      UC38["Qu·∫£n l√Ω b√†i t·∫≠p"]
      UC39["Xem th·ªëng k√™ doanh thu"]
    end
    subgraph Row14[" "]
      direction LR
      UC40["T·ª± ƒë·ªông check-out h·∫øt h·∫°n"]
      UC41["G·ª≠i th√¥ng b√°o bu·ªïi t·∫≠p"]
      UC42["T·∫°o k·∫ø ho·∫°ch dinh d∆∞·ª°ng AI"]
    end
    subgraph Row15[" "]
      direction LR
      UC43["D·ª± ƒëo√°n workout AI"]
      UC44["Nh·∫≠n di·ªán khu√¥n m·∫∑t"]
      UC45["X·ª≠ l√Ω thanh to√°n"]
    end
    subgraph Row16[" "]
      direction LR
      UC46["G·ª≠i OTP"]
      Spacer1(( )):::spacer
      Spacer2(( )):::spacer
    end
  end

  subgraph RightActors[" "]
    direction TB
    OngChu["üëî Ch·ªß Ph√≤ng Gym"]:::actor
    SysActor["‚öôÔ∏è H·ªá Th·ªëng"]:::actor
  end

end

%% Li√™n k·∫øt ngang t·ª´ actor ƒë·∫øn c√°c use case li√™n quan
HoiVien --- UC1 & UC2 & UC3 & UC4 & UC5 & UC6 & UC7 & UC8 & UC9 & UC10 & UC11 & UC12 & UC13 & UC14 & UC15 & UC16 & UC17 & UC18
PT --- UC1 & UC19 & UC20 & UC21 & UC22 & UC23 & UC24 & UC25 & UC26 & UC27 & UC28 & UC29 & UC30
OngChu --- OwnerAnchor
OwnerAnchor --- UC1 & UC31 & UC32 & UC33 & UC34 & UC35 & UC36 & UC37 & UC38 & UC39
SysActor --- SysAnchor
SysAnchor --- UC40 & UC41 & UC42 & UC43 & UC44 & UC45 & UC46